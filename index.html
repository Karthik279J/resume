<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iResume | Data Collection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: linear-gradient(135deg, #d4e4f7 0%, #ffffff 100%); min-height: 100vh; font-family: -apple-system, sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.4); border-radius: 30px; }
        input, select { background: rgba(255, 255, 255, 0.8) !important; border: 1px solid rgba(0,0,0,0.1) !important; border-radius: 12px !important; padding: 12px; outline: none; transition: 0.2s; }
        input:focus { border-color: #007AFF !important; ring: 2px; ring-color: #007AFF; }
        .skill-tag, .cert-tag { background: #007AFF; color: white; padding: 5px 12px; border-radius: 10px; font-size: 13px; display: inline-flex; align-items: center; gap: 5px; margin-top: 5px; }
    </style>
</head>
<body class="p-6">

    <div class="max-w-4xl mx-auto">
        <header class="flex justify-between items-center mb-8 px-4">
            <h1 class="text-3xl font-black text-gray-900">iResume</h1>
            <div class="glass px-5 py-2 text-xs font-bold text-blue-600 uppercase">Step 1/4</div>
        </header>

        <main class="glass p-8 shadow-2xl">
            <h2 class="text-2xl font-bold mb-6">Complete Your Profile</h2>
            <p class="text-xs text-red-500 mb-4 font-bold">* All fields are mandatory</p>
            
            <form id="resumeForm" class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <input type="text" id="name" placeholder="Full Name" required>
                    <input type="tel" id="phone" placeholder="Phone Number" required>
                    <input type="email" id="email" placeholder="Email Address" required>
                    <input type="text" id="address" placeholder="Address (City, Country)" required>
                </div>

                <div class="space-y-4 border-t pt-4">
                    <h3 class="text-sm font-bold text-blue-600 uppercase">Education History</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="space-y-2">
                            <input type="text" id="degName" placeholder="Degree College Name" class="w-full" required>
                            <input type="text" id="scoreDeg" placeholder="Degree CGPA" class="w-full" required>
                        </div>
                        <div class="space-y-2">
                            <input type="text" id="interName" placeholder="Inter/12th College Name" class="w-full" required>
                            <input type="text" id="score12" placeholder="Inter %" class="w-full" required>
                        </div>
                        <div class="space-y-2 md:col-span-2">
                            <input type="text" id="schoolName" placeholder="10th School Name" class="w-full" required>
                            <input type="text" id="score10" placeholder="10th GPA" class="w-full" required>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 border-t pt-4">
                    <div>
                        <select id="tech" onchange="addItem('tech', 'tech-list')" class="w-full">
                            <option value="">Select Technical Skills</option>
                            <option>Python</option><option>Java</option><option>HTML/CSS</option><option>React</option>
                        </select>
                        <div id="tech-list" class="flex flex-wrap gap-2"></div>
                    </div>
                    <div>
                        <select id="soft" onchange="addItem('soft', 'soft-list')" class="w-full">
                            <option value="">Select Soft Skills</option>
                            <option>Leadership</option><option>Communication</option><option>Teamwork</option>
                        </select>
                        <div id="soft-list" class="flex flex-wrap gap-2"></div>
                    </div>
                </div>

                <div class="border-t pt-4">
                    <label class="text-xs font-bold text-gray-400 uppercase">Add Certifications</label>
                    <div class="flex gap-2 mt-2">
                        <input type="text" id="certInput" placeholder="Enter Certification Name" class="flex-grow">
                        <button type="button" onclick="addItem('certInput', 'cert-list', true)" class="bg-gray-800 text-white px-4 rounded-xl font-bold">+</button>
                    </div>
                    <div id="cert-list" class="flex flex-wrap gap-2 mt-2"></div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 border-t pt-4">
                    <input type="text" id="langs" placeholder="Languages Known" required>
                    <input type="text" id="hobbies" placeholder="Hobbies" required>
                </div>

                <button type="button" onclick="validateAndSave()" class="w-full py-4 bg-blue-600 text-white rounded-2xl font-bold shadow-lg shadow-blue-200">
                    Continue to Themes
                </button>
            </form>
        </main>

        <footer class="mt-8 glass p-6 flex justify-between items-center">
            <div class="text-xs font-bold text-gray-500">CREATOR: J KARTHIK | 8341276449</div>
            <a href="#" class="text-blue-600 text-xs font-bold">LinkedIn Profile</a>
        </footer>
    </div>

    <script>
        function addItem(inputId, listId, isInput = false) {
            const el = document.getElementById(inputId);
            const val = el.value;
            if(!val) return;
            const container = document.getElementById(listId);
            const tag = document.createElement('div');
            tag.className = 'cert-tag';
            tag.innerHTML = `${val} <span class="cursor-pointer" onclick="this.parentElement.remove()">×</span>`;
            container.appendChild(tag);
            el.value = "";
        }

        function validateAndSave() {
            const inputs = document.querySelectorAll('input[required]');
            let allFilled = true;
            
            inputs.forEach(input => {
                if(!input.value) {
                    input.style.borderColor = "red";
                    allFilled = false;
                } else {
                    input.style.borderColor = "rgba(0,0,0,0.1)";
                }
            });

            // Check if lists are empty
            if(document.getElementById('tech-list').children.length === 0 || 
               document.getElementById('soft-list').children.length === 0) {
                alert("Please add at least one Technical and Soft skill.");
                return;
            }

            if(!allFilled) {
                alert("Please fill all required fields marked in red.");
                return;
            }

            const data = {
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                email: document.getElementById('email').value,
                address: document.getElementById('address').value,
                school: document.getElementById('schoolName').value,
                score10: document.getElementById('score10').value,
                inter: document.getElementById('interName').value,
                score12: document.getElementById('score12').value,
                college: document.getElementById('degName').value,
                scoreDeg: document.getElementById('scoreDeg').value,
                tech: document.getElementById('tech-list').innerText.replace(/×/g, ''),
                soft: document.getElementById('soft-list').innerText.replace(/×/g, ''),
                certs: document.getElementById('cert-list').innerText.replace(/×/g, ','),
                langs: document.getElementById('langs').value,
                hobbies: document.getElementById('hobbies').value
            };

            localStorage.setItem('resumeData', JSON.stringify(data));
            window.location.href = 'theme.html';
        }
    </script>
</body>
</html>